(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6630a621"],{"043e":function(e,t,a){"use strict";a("db2c")},"159b":function(e,t,a){var n=a("da84"),i=a("fdbc"),r=a("17c2"),o=a("9112");for(var s in i){var c=n[s],l=c&&c.prototype;if(l&&l.forEach!==r)try{o(l,"forEach",r)}catch(u){l.forEach=r}}},"17c2":function(e,t,a){"use strict";var n=a("b727").forEach,i=a("a640"),r=a("ae40"),o=i("forEach"),s=r("forEach");e.exports=o&&s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"3dad":function(e,t,a){"use strict";var n=a("bc3a"),i=a.n(n),r=a("218c"),o=a.n(r);function s(e){var t=i.a.get("/api/container/run",{params:e});return g(t),t}function c(e){return i.a.get("/api/image/".concat(e))}function l(){var e=i.a.delete("/api/image/prune");return g(e),e}function u(e){var t=i.a.get("/api/image/tag",{params:e});return g(t),t}function g(e){e.then((function(e){var t=e.data,a=t.Code,n=t.Msg;"OK"!==a&&o.a["warning"]({message:"æ“ä½œå¤±è´¥",description:n})})).catch((function(e){console.log("è®¿é—®å‡ºç°å¼‚å¸¸:".concat(e)),o.a["error"]({message:"æ“ä½œå¤±è´¥",description:"æ“ä½œå¤±è´¥,è¯·æ£€æŸ¥ Docker æœåŠ¡æ˜¯å¦æ­£å¸¸"})}))}t["a"]={runNewContainer:s,pruneImage:l,getImageInfo:c,renameImage:u}},4160:function(e,t,a){"use strict";var n=a("23e7"),i=a("17c2");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"498a":function(e,t,a){"use strict";var n=a("23e7"),i=a("58a8").trim,r=a("c8d2");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},"4de4":function(e,t,a){"use strict";var n=a("23e7"),i=a("b727").filter,r=a("1dde"),o=a("ae40"),s=r("filter"),c=o("filter");n({target:"Array",proto:!0,forced:!s||!c},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},5899:function(e,t){e.exports="\t\n\v\f\r Â áš€â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),i=a("5899"),r="["+i+"]",o=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),c=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:c(1),end:c(2),trim:c(3)}},6486:function(e,t){var a=[{title:"é•œåƒ Id",key:"imageId",fixed:"left",dataIndex:"imageId"},{title:"é•œåƒ Tag",dataIndex:"rep",key:"rep"},{title:"é•œåƒå¤§å°",dataIndex:"size",key:"size"},{title:"åˆ›å»ºæ—¶é—´",key:"created",dataIndex:"created"},{title:"æ“ä½œ",key:"action",fixed:"right",width:"50px",scopedSlots:{customRender:"action"}}];e.exports={imageColumns:a}},b0c0:function(e,t,a){var n=a("83ab"),i=a("9bf2").f,r=Function.prototype,o=r.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in r)&&i(r,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},b64b:function(e,t,a){var n=a("23e7"),i=a("7b0b"),r=a("df75"),o=a("d039"),s=o((function(){r(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(e){return r(i(e))}})},c8d2:function(e,t,a){var n=a("d039"),i=a("5899"),r="â€‹Â…á ";e.exports=function(e){return n((function(){return!!i[e]()||r[e]()!=r||i[e].name!==e}))}},db2c:function(e,t,a){},dbb4:function(e,t,a){var n=a("23e7"),i=a("83ab"),r=a("56ef"),o=a("fc6a"),s=a("06cf"),c=a("8418");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,a,n=o(e),i=s.f,l=r(n),u={},g=0;while(l.length>g)a=i(n,t=l[g++]),void 0!==a&&c(u,t,a);return u}})},e439:function(e,t,a){var n=a("23e7"),i=a("d039"),r=a("fc6a"),o=a("06cf").f,s=a("83ab"),c=i((function(){o(1)})),l=!s||c;n({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(r(e),t)}})},feec:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"imageContainer"},[n("a-form",{attrs:{layout:"inline"}},[n("a-form-item",[n("a-input",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"400px"},attrs:{placeholder:"æœç´¢å…³é”®è¯"},on:{change:t.searchKeyOnchange},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[n("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1),n("a-form-item",[n("a-space",[n("a-button",{attrs:{"html-type":"reset"},on:{click:t.reloadImageList}},[n("a-icon",{attrs:{type:"reload"}}),t._v(" åˆ·æ–° ")],1),n("a-button",{on:{click:t.pullImage}},[n("a-icon",{attrs:{type:"cloud-download"}}),t._v(" æ‹‰å– ")],1),n("a-button",{attrs:{type:"primary"},on:{click:function(e){t.importImageVisible=!0}}},[n("a-icon",{attrs:{type:"cloud-upload"}}),t._v(" å¯¼å…¥ ")],1),n("a-tooltip",[n("template",{slot:"title"},[t._v("åˆ é™¤æ— ç”¨é•œåƒ")]),n("a-button",{attrs:{type:"danger"},on:{click:function(e){return t.callPruneImageApi()}}},[n("a-icon",{attrs:{type:"cloud-upload"}}),t._v(" ç²¾ç®€ ")],1)],2)],1)],1)],1),n("a-table",{staticStyle:{"margin-top":"30px"},attrs:{columns:t.imageColumns,"data-source":t.imageList,size:"small",scroll:{x:!0}},scopedSlots:t._u([{key:"action",fn:function(e,a){return n("span",{},[n("a-space",[n("a-tooltip",[n("template",{slot:"title"},[t._v("å¯åŠ¨é•œåƒ")]),n("a-icon",{staticStyle:{color:"#52c41a","font-size":"18px"},attrs:{type:"play-circle"},on:{click:function(e){return t.openCreateContainerGuide(a)}}})],2),n("a-divider",{attrs:{type:"vertical"}}),n("a-tooltip",[n("template",{slot:"title"},[t._v("é•œåƒè¯¦æƒ…")]),n("a-icon",{staticStyle:{color:"darkslategray","font-size":"18px"},attrs:{type:"profile"},on:{click:function(e){return t.detail(a.imageLongId)}}})],2),n("a-divider",{attrs:{type:"vertical"}}),n("a-tooltip",[n("template",{slot:"title"},[t._v("åˆ é™¤é•œåƒ")]),n("a-icon",{staticStyle:{color:"red","font-size":"18px"},attrs:{type:"delete"},on:{click:function(e){return t.remove(a.imageLongId)}}})],2),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link",on:{click:function(e){return e.preventDefault()}}},[n("a-icon",{staticStyle:{color:"darkslategray","font-size":"18px"},attrs:{type:"down-circle"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"#"},on:{click:function(e){return t.exportImg(a.imageLongId,a.rep)}}},[n("a-icon",{attrs:{type:"cloud-download"}}),t._v(" å¯¼å‡ºé•œåƒ ")],1)]),n("a-menu-item",[n("a",{attrs:{href:"#"},on:{click:function(e){return t.openReTagModal(a.rep)}}},[n("a-icon",{attrs:{type:"tags"}}),t._v(" é‡æ–°æ ‡è®°")],1)]),n("a-menu-item",[n("a",{attrs:{href:"#"},on:{click:function(e){return t.push(a.imageLongId)}}},[n("a-icon",{attrs:{type:"cloud-upload"}}),t._v(" æ¨é€é•œåƒ")],1)])],1)],1)],1)],1)}}])}),n("a-modal",{attrs:{title:"é‡æ–°æ ‡è®°",okText:"æ ‡è®°",cancelText:"å–æ¶ˆ"},on:{ok:t.callReTagApi},model:{value:t.tagImageVisible,callback:function(e){t.tagImageVisible=e},expression:"tagImageVisible"}},[n("a-form",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-form-item",{attrs:{label:"åŸ Tag"}},[n("a-input",{attrs:{disabled:""},model:{value:t.oldTag,callback:function(e){t.oldTag=e},expression:"oldTag"}})],1),n("a-form-item",{attrs:{label:"æ–° Tag"}},[n("a-input",{on:{change:function(t){return e.newTag=t.target.value}}})],1)],1)],1),n("a-modal",{attrs:{title:"å¯¼å…¥æ–°çš„é•œåƒ",okText:"å¯¼å…¥",cancelText:"å–æ¶ˆ",footer:null},on:{ok:function(e){return t.closeImportImageVisible()}},model:{value:t.importImageVisible,callback:function(e){t.importImageVisible=e},expression:"importImageVisible"}},[n("a-form-model",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}},model:{value:t.containerConfig,callback:function(e){t.containerConfig=e},expression:"containerConfig"}},[n("a-upload",{attrs:{name:"file",headers:t.uploadFileHeader,action:t.getFileUploadLink()},on:{change:t.importStatusChange}},[t._v(" é€‰æ‹©æ–‡ä»¶ä¸Šä¼  ")]),n("a-divider"),n("span",{staticStyle:{color:"darkslategray"}},[t._v("å¯¼å…¥ç»“æœ: "+t._s(t.importResp))])],1)],1),n("a-modal",{attrs:{title:"æ‹‰å–æ–°çš„é•œåƒ",width:"800px"},on:{ok:t.callPullImageApi},model:{value:t.pullImageVisible,callback:function(e){t.pullImageVisible=e},expression:"pullImageVisible"}},[n("a-form-model",{attrs:{"label-col":{span:1},"wrapper-col":{span:23}},model:{value:t.containerConfig,callback:function(e){t.containerConfig=e},expression:"containerConfig"}},[n("a-form-model-item",{attrs:{label:"é•œåƒ"}},[n("a-input",{model:{value:t.pullImageConfig.imageName,callback:function(e){t.$set(t.pullImageConfig,"imageName",e)},expression:"pullImageConfig.imageName"}})],1),n("a-form-model-item",{staticStyle:{display:"none"},attrs:{label:"æˆæƒ"}},[n("a-select",{model:{value:t.pullImageConfig.auth,callback:function(e){t.$set(t.pullImageConfig,"auth",e)},expression:"pullImageConfig.auth"}},[n("a-select-option",{attrs:{value:"æ— "}},[t._v("æ— ")])],1)],1)],1),n("div",{staticClass:"pullLog"},[t._v(t._s(t.pullLog)+" ")])],1),n("a-modal",{attrs:{title:"è¿è¡Œæ–°çš„å®¹å™¨",okText:"è¿è¡Œ",cancelText:"å–æ¶ˆ"},on:{ok:t.callRunNewContainerApi},model:{value:t.runImageVisible,callback:function(e){t.runImageVisible=e},expression:"runImageVisible"}},[n("a-form-model",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}},model:{value:t.containerConfig,callback:function(e){t.containerConfig=e},expression:"containerConfig"}},[n("a-form-model-item",{attrs:{label:"é•œåƒåç§°"}},[n("a-input",{attrs:{disabled:""},model:{value:t.containerConfig.imageName,callback:function(e){t.$set(t.containerConfig,"imageName",e)},expression:"containerConfig.imageName"}})],1),n("a-form-model-item",{attrs:{label:"å®¹å™¨åç§°"}},[n("a-input",{attrs:{placeholder:"è¯·è¾“å…¥å®¹å™¨åç§°"},model:{value:t.containerConfig.containerName,callback:function(e){t.$set(t.containerConfig,"containerName",e)},expression:"containerConfig.containerName"}})],1),n("a-form-model-item",{attrs:{label:"ç«¯å£æ˜ å°„"}},[n("a-input",{attrs:{placeholder:"å®¿ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£(å¤šä¸ªæŒ‚è½½ä½¿ç”¨;åˆ†å‰²)"},model:{value:t.containerConfig.bindPort,callback:function(e){t.$set(t.containerConfig,"bindPort",e)},expression:"containerConfig.bindPort"}})],1),n("a-form-model-item",{attrs:{label:"ç¯å¢ƒå˜é‡"}},[n("a-input",{attrs:{placeholder:"ç¯å¢ƒå˜é‡é”®=ç¯å¢ƒå˜é‡å€¼(å¤šä¸ªå˜é‡ä½¿ç”¨;åˆ†å‰²)"},model:{value:t.containerConfig.env,callback:function(e){t.$set(t.containerConfig,"env",e)},expression:"containerConfig.env"}})],1),n("a-form-model-item",{attrs:{label:"ç›®å½•æŒ‚è½½"}},[n("a-input",{attrs:{placeholder:"å®¿ä¸»æœºç›®å½•:å®¹å™¨ç›®å½•(å¤šä¸ªæŒ‚è½½ä½¿ç”¨;åˆ†å‰²)"},model:{value:t.containerConfig.volume,callback:function(e){t.$set(t.containerConfig,"volume",e)},expression:"containerConfig.volume"}})],1)],1)],1),n("a-drawer",{attrs:{placement:"right",width:"35%",visible:t.showDetail},on:{close:t.close}},[n("a-collapse",{attrs:{activeKey:["imageInfo","imageConfig"]}},[n("a-collapse-panel",{key:"imageInfo",attrs:{header:"é•œåƒä¿¡æ¯"}},[n("table",{staticClass:"configTable"},[n("tr",[n("td",{staticClass:"tagTd"},[t._v("ID")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.Id))])]),this.imageInfo.Parent?n("tr",[n("td",{staticClass:"tagTd"},[t._v("çˆ¶çº§Id")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.Parent))])]):t._e(),n("tr",[n("td",{staticClass:"tagTd"},[t._v("é•œåƒå¤§å°")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s((this.imageInfo.Size/1e6).toFixed(2))+" ")])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("é•œåƒæ¶æ„")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.Architecture))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("é•œåƒç³»ç»Ÿ")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.Os))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("é•œåƒæ¨¡å¼")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.GraphDriver.Name))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("æ„å»ºç‰ˆæœ¬")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.DockerVersion))])])])]),n("a-collapse-panel",{key:"imageConfig",attrs:{header:"é•œåƒé…ç½®"}},[n("table",{staticClass:"configTable"},[this.imageInfo.Config.Host?n("tr",[n("td",{staticClass:"tagTd"},[t._v("ä¸»æœºå")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.Config.Host))])]):t._e(),this.imageInfo.Config.Domainname?n("tr",[n("td",{staticClass:"tagTd"},[t._v("åŸŸå")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.Config.Domainname))])]):t._e(),this.imageInfo.Config.ExposedPorts?n("tr",[n("td",{staticClass:"tagTd"},[t._v("ç«¯å£")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.Config.ExposedPorts)+" ")])]):t._e(),n("tr",[n("td",{staticClass:"tagTd"},[t._v("ç¯å¢ƒå˜é‡")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.Config.Env))])]),n("tr",[n("td",{staticClass:"tagTd"},[t._v("å…¥å£å‘½ä»¤")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.Config.Cmd))])]),this.imageInfo.Config.WorkingDir?n("tr",[n("td",{staticClass:"tagTd"},[t._v("å·¥ä½œç›®å½•")]),n("td",{staticClass:"contentTd",attrs:{align:"left"}},[t._v(" "+t._s(this.imageInfo.Config.WorkingDir))])]):t._e()])])],1)],1)],1)},i=[],r=(a("99af"),a("4de4"),a("c975"),a("b0c0"),a("498a"),a("96cf"),a("1da1")),o=a("5530"),s=a("2f62"),c=a("3dad"),l=a("ed08"),u=a("3ea0"),g=a("6486"),m=g.imageColumns,f={data:function(){return{searchKey:"",oldTag:"",newTag:"",showDetail:!1,currentImageId:"",currentRep:"",imageColumns:m,containerConfig:{imageName:"",containerName:"",bindPort:"",env:"",volume:""},importResp:"",pullImageConfig:{imageName:"",auth:""},pullLog:"",pulling:!1,importImageVisible:!1,pullImageVisible:!1,runImageVisible:!1,tagImageVisible:!1}},mounted:function(){this.updateImageList()},computed:{uploadFileHeader:function(){return{authorization:localStorage.token}},imageList:function(){var e=this,t=this.$store.state.image.imageList;return""===this.searchKey||""===this.searchKey.trim()?t:t.filter((function(t){return t.rep.indexOf(e.searchKey)>=0||t.imageId.indexOf(e.searchKey)>=0}))},imageInfo:function(){return this.$store.state.image.imageInfo},containerList:function(){return this.$store.state.container.containerList}},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])({updateImageList:"updateImageList",getImageInfo:"getImageInfo",removeImage:"removeImage"})),{},{getFileUploadLink:function(){return"".concat(u["a"].HOST,"/api/image/import")},closeImportImageVisible:function(){this.importImageVisible=!1,this.updateImageList()},importStatusChange:function(e){var t=e.file;if("done"===t.status){this.$message.info("æ–‡ä»¶:".concat(t.name," å¯¼å…¥å®Œæ¯•"));var a=t.response.Data;this.importResp=a}},searchKeyOnchange:function(e){this.searchKey=e.target.value},detail:function(e){this.showDetail=!0,this.currentImageId=e,this.getImageInfo({imageId:e})},push:function(){this.$message.warning("æš‚ä¸æ”¯æŒæ¨é€é•œåƒï¼Œè¯·æœŸå¾…åç»­ç‰ˆæœ¬")},remove:function(e){var t=this,a=this;this.$confirm({title:"æ˜¯å¦ç¡®è®¤åˆ é™¤æ­¤é•œåƒ?",okText:"ç¡®è®¤",cancelText:"å–æ¶ˆ",onOk:function(){a.$axios.get("/api/image/".concat(e,"/remove/false")).then((function(n){var i=n.data,r=i.Code,o=i.Msg;"OK"===r?(a.$message.info("é•œåƒåˆ é™¤å®Œæˆ!"),t.updateImageList()):a.$confirm({title:"åˆ é™¤é•œåƒå¤±è´¥ï¼Œæ˜¯å¦å¼ºåˆ¶åˆ é™¤?",content:o,okText:"ç¡®è®¤",cancelText:"å–æ¶ˆ",onOk:function(){return t.forceRemove(e)}})})).catch((function(){t.$notification["error"]({message:"åˆ é™¤é•œåƒå¤±è´¥",description:"è®¿é—® Docker é•œåƒå‡ºç°å¼‚å¸¸,è¯·æ£€æŸ¥ Docker æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨"})}))},class:"test"})},forceRemove:function(e){var t=this;this.$axios.get("/api/image/".concat(e,"/remove/true")).then((function(e){var a=e.data,n=a.Code,i=a.Msg;"OK"===n?(t.$message.info("å¼ºåˆ¶åˆ é™¤é•œåƒå®Œæˆ!"),t.updateImageList()):t.$message.error(i)})).catch((function(){t.$message.error("è®¿é—® Docker é•œåƒå‡ºç°å¼‚å¸¸,è¯·æ£€æŸ¥ Docker æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨")}))},reloadImageList:function(){this.updateImageList(),this.$message.info("åˆ·æ–°é•œåƒåˆ—è¡¨å®Œæˆ")},pullImage:function(){this.pullImageVisible=!0},close:function(){this.showDetail=!1},openCreateContainerGuide:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i,o,s,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=t,i=e.rep,o=e.imageId,s=t.$createElement,c=s("div",{},[s("p","ğŸ”¥ ç®€å•æ¨¡å¼: å¿«é€Ÿåˆ›å»ºå®¹å™¨, åŠŸèƒ½å°å·§"),s("p","ğŸ›  ä¸“ä¸šæ¨¡å¼: å‘å¯¼åˆ›å»ºå®¹å™¨, åŠŸèƒ½å¼ºå¤§")]),t.$confirm({title:"è¯·é€‰æ‹©å®¹å™¨åˆ›å»ºæ¨¡å¼",content:c,okText:"ç®€å•æ¨¡å¼",cancelText:"ä¸“ä¸šæ¨¡å¼",onOk:function(){n.containerConfig.imageName=i,n.runImageVisible=!0},onCancel:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$router.push("/content/container_create?imageTag=".concat(i,"&imageId=").concat(o));case 2:case"end":return e.stop()}}),e)})))()}});case 5:case"end":return a.stop()}}),a)})))()},callPullImageApi:function(){var e=this;if(this.pulling)this.$message.error("æ­£åœ¨æ‹‰å»é•œåƒ,è¯·ç­‰å¾…å½“å‰ä»»åŠ¡å®Œæˆ");else{this.pulling=!0,this.pullLog="æ­£åœ¨æ‹‰å–é•œåƒï¼Œè¯·ç¨åï¼<br/> å…·ä½“æ—¶é—´å–å†³äºç½‘ç»œçŠ¶æ€ä»¥åŠå’Œé•œåƒä¸­å¿ƒçš„è¿æ¥é€Ÿåº¦...";var t=this.pullImageConfig.imageName;if(""!==t.trim()){var a=Object(l["guid"])();this.$message.loading({content:"æ­£åœ¨æ‹‰å–é•œåƒï¼Œè¯·ç¨å....",key:a,duration:0}),this.$axios.get("/api/image/pull?refStr=".concat(t),{headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var n=t.data;e.pullLog=e.pullLog+n,e.$message.info({content:"é•œåƒè·å–å®Œæˆ",key:a})})).catch((function(){e.$message.error({content:"ç½‘ç»œè®¿é—®å¤±è´¥ï¼Œè¯·æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨",key:a}),e.pullLog="ç½‘ç»œè®¿é—®å¤±è´¥ï¼Œè¯·æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨"})),this.pulling=!1}else this.$message.error("é•œåƒåç§°ä¸èƒ½ä¸ºç©º")}},exportImg:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=Object(l["guid"])(),a.$message.loading({content:"æ­£åœ¨å¯¼å‡ºé•œåƒï¼Œè¯·ç¨å....",key:i,duration:0}),r={withCredentials:!0,timeout:6e5,responseType:"blob",headers:{Authorization:localStorage.token}},a.$axios.create(r).post("/api/image/save",{imageTag:t,imageId:e}).then((function(t){Object(l["download"])(t.data,"".concat(e,".tar.gz")),a.$message.info({content:"é•œåƒå·²æˆåŠŸå¯¼å‡ºå¹¶ä¸‹è½½....",key:i})})).catch((function(){a.$message.error({content:"é•œåƒå¯¼å‡ºå¤±è´¥,è¯·æ£€æŸ¥ Docker æœåŠ¡æ˜¯å¦æ­£å¸¸",key:i})}));case 4:case"end":return n.stop()}}),n)})))()},openReTagModal:function(e){this.tagImageVisible=!0,this.oldTag=e},callRunNewContainerApi:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].runNewContainer(e.containerConfig);case 2:a=t.sent,n=a.data,i=n.Code,r=n.Msg,"OK"===i?(e.$message.info("æ–°çš„å®¹å™¨å¯åŠ¨å®Œæˆ!"),e.runImageVisible=!1):e.$message.error(r);case 5:case"end":return t.stop()}}),t)})))()},callReTagApi:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.newTag.trim()){t.next=4;break}return e.tagImageVisible=!1,e.$message.warning("æ–°çš„é•œåƒtag ä¸èƒ½ä¸ºç©ºå­—ç¬¦ä¸²"),t.abrupt("return");case 4:if(e.newTag.trim()!==e.oldTag.trim()){t.next=8;break}return e.tagImageVisible=!1,e.$message.warning("æ–°çš„é•œåƒtagä¸èƒ½å’ŒåŸé•œåƒé‡å¤"),t.abrupt("return");case 8:return t.next=10,c["a"].renameImage({source:e.oldTag,tag:e.newTag});case 10:a=t.sent,n=a.data.Code,"OK"===n&&(e.$message.info("æ ‡è®°é•œåƒå®Œæˆ!"),e.tagImageVisible=!1,e.updateImageList());case 13:case"end":return t.stop()}}),t)})))()},callPruneImageApi:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].pruneImage();case 2:a=t.sent,n=a.data.Code,"OK"===n&&e.$message.info("ç²¾ç®€é•œåƒå®Œæˆ!!");case 5:case"end":return t.stop()}}),t)})))()}})},d=f,p=(a("043e"),a("2877")),h=Object(p["a"])(d,n,i,!1,null,"538a07a1",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-6630a621.8a871a36.js.map